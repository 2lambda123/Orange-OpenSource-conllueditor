<!DOCTYPE html>
<html>
    <!--
    This library is under the 3-Clause BSD License

    Copyright (c) 2018-2021, Orange S.A.

    Redistribution and use in source and binary forms, with or without modification,
    are permitted provided that the following conditions are met:

    1. Redistributions of source code must retain the above copyright notice,
    this list of conditions and the following disclaimer.

    2. Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.

    3. Neither the name of the copyright holder nor the names of its contributors
    may be used to endorse or promote products derived from this software without
    specific prior written permission.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
    THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
    ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
    FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
    (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
    LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
    ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
    (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
    THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

    author Johannes Heinecke
    version 2.11.2 as of 12th April 2021
    -->

    <head>
        <meta http-equiv="Content-Type"  content="text/html; charset=utf-8">
        <title>CoNLL-U Editor</title>

        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <!--link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" -->
        <link rel="stylesheet" type="text/css" href="lib/bootstrap-4.1.3/css/bootstrap.min.css" />

        <!--script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css"></script-->
        <link rel="stylesheet" type="text/css" href="lib/jquery-ui-1.12.1/jquery-ui.min.css" />

        <link rel="stylesheet" type="text/css" href="table.css" />
        <link rel="stylesheet" type="text/css" href="depgraph.css" />
        <link rel="stylesheet" type="text/css" href="index.css" />

        <link rel="shortcut icon"  type="image/x-icon" href="img/orange.ico">


        <script type="text/javascript" src="./lib/jquery-3.3.1.min.js" ></script>
        <!--script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" -->

        <script src="lib/popper.min.js"></script>
         <!--script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script-->

        <script src="lib/bootstrap-4.1.3/js/bootstrap.min.js"></script>
        <!--script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script-->

        <script type="text/javascript" src="./lib/jquery-ui-1.12.1/jquery-ui.min.js" ></script>
        <!--script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script-->

        <script src="./word.js" type="text/javascript"></script>
        <script src="./dependency-tree.js" type="text/javascript"></script>
        <script src="./dependency-flat.js" type="text/javascript"></script>
        <script src="./table.js" type="text/javascript"></script>
        <script src="./edit.js" type="text/javascript"></script>

        <link href="https://fonts.googleapis.com/css?family=Lato:wght@300;400&display=swap" rel="stylesheet">
    </head>

    <body>
        <div id="header">
            <table border="0" cellpadding="0" cellspacing="10">
                <tr>
                    <td colspan="1">
                        <span class="sentinfo">filename:</span> <span onmousedown="ToggleSearch();" id="filename">(conllu-filename)</span>
                        <span id="mode"></span>
                        <span class="sentinfo">&nbsp;&nbsp;changes: </span> <span class="editmode" id="changespendingsave">0</span>
                        <span class="sentinfo" id="psc">&nbsp;&nbsp;pending shortcuts: </span> <span class="editmode" id="pendingshortcuts"></span>
                    </td>
                    <!--td rowspan="2" width="200" id="logo" title="?" >
                        <svg viewBox="0 0 130 55" transform="scale(1 1) translate(0 0)">
                            <use xlink:href="img/ce2.svg#svg2"></use>
                        </svg>
                    </td-->
                </tr>
                <tr>
                    <td colspan="1">
                        <span class="contain"><button class="editbuttons mybutton" id="undo">&nbsp;</button> <!-- ↺ --></span>
                        <span class="contain"><button class="editbuttons mybutton" id="redo">&nbsp;</button> <!-- ↻ --></span>
                        <button class="editbuttons mybutton" id="lire">read sentence</button>
                        <input type="text" id="sentid" class="inputfield" pattern="[1-9][0-9]*" size="4" value="1" >
                        <span class="contain"><button class="editbuttons mybutton" id="first">&nbsp;</button> <!--  |&lt; --></span>
                        <span class="contain"><button class="editbuttons mybutton" id="prec">&nbsp;</button> <!-- &lt;&lt; --></span>
                        <span class="contain"><button class="editbuttons mybutton" id="next">&nbsp;</button> <!--  &gt;&gt; --></span>
                        <span class="contain"><button class="editbuttons mybutton" id="last">&nbsp;</button> <!--  &gt;| --></span>

                        <button class="mycheck mybutton" id="feat2" title="show morpho-syntactic features">features</button>
                        <button class="mycheck mybutton" id="misc2" title="show contents of MISC column">misc</button>
                        <!--button class="mycheck mybutton" id="flat2">flat graph</button-->
                        <span class="oomybutton dewis">
                        <select id="flat3">
                            <option value="tree" selected>tree graph</option>
                            <option value="flat">flat graph</option>
                            <option value="table">table view</option>
                        </select>
                        </span>
                        <button class="mycheck mybutton" id="r2l" title="activate for sentennces in Arabic or Hebrew script">right to left</button>
                        <!--button class="mycheck mybutton" id="extracols" title="show contents of columns > 10">extra cols</button-->

                        <button class ="editbuttons mybutton editmode" title="save file before min edits are reached (option --saveAfter)" id="save">save changes</button>
                        <button type="button" class="help mybutton" data-toggle="modal" data-target="#helpModal">help</button>

                        <button class="mybutton" id="act_search" style="width:130" onmousedown="ToggleSearch();" title="hide/show search fields">hide search</button>
                        <button class="mybutton" id="act_subtree" style="width:130" onmousedown="ToggleSubtree();" title="hide/show subtree search">show subtree search</button>
                    </td>
                </tr>

                <tr class="search">
                    <td colspan="1">
                        <!--span class="resizable-input"-->
                            <input class="inputfield searchfield" placeholder="find form (string)" title="string (with or without &quot;)" type="text" id="word" value="">
                        <!--/span-->
                        <!--textarea style="resize: horizontal;" cols="10" rows="1" class="inputfield searchfield" placeholder="find form (string)" title="string (with or without &quot;)" type="text" id="word" value=""></textarea-->
                        <span class="contain"><button class="editbuttons mybutton go" id="findword">&nbsp;</button></span>

                        <input class="inputfield searchfield" placeholder="find lemma (regex/...)" title="regex[/regex/...]" type="text" id="lemma" value="">
                        <span class="contain"><button class="editbuttons mybutton go" id="findlemma">&nbsp;</button></span>

                        <input class="inputfield searchfield" placeholder="find upos (regex/...)" title="regex[/regex/...]" type="text" id="upos" value="">
                        <span class="contain"><button class="editbuttons mybutton go" id="findupos">&nbsp;</button></span>

                        <input class="inputfield searchfield" placeholder="find xpos (regex/...)" title="regex[/regex/...]" type="text" id="xpos" value="">
                        <span class="contain"><button class="editbuttons mybutton go" id="findxpos">&nbsp;</button></span>

                        <input class="inputfield searchfield" placeholder="find deprel (regex/...)" title="regex of deprels (separated by &gt; or &lt; in order to find a branch)" type="text" id="deprel" value="">
                        <span class="contain"><button class="editbuttons mybutton go" id="finddeprel">&nbsp;</button></span>

                        <input class="inputfield searchfield" placeholder="find feature (name:regex/...)" title="name:regex of feature" type="text" id="featureval" value="">
                        <span class="contain"><button class="editbuttons mybutton go" id="findfeature">&nbsp;</button></span>

                        <span class="contain"><button class="mybutton mycheck" title="search backwards" id="backwards">&nbsp;</button></span>
                    </td>
                </tr>
                <tr class="search">
                    <td colspan="1">
                        <input class="inputfield searchfield" placeholder="find any ([fluxde]:regex)" title="column:regex[%column:regex][/...]" type="text" id="multifield" value="">
                        <span class="contain"><button class="editbuttons mybutton go" id="findmulti">&nbsp;</button></span>

                        <input class="inputfield searchfield" placeholder="find comment (string)" title="regex" type="text" id="comment" value="">
                        <span class="contain"><button class="editbuttons mybutton go" id="findcomment">&nbsp;</button></span>

                        <input class="inputfield searchfield" placeholder="find sent-id (regex)" title="regex" type="text" id="sentenceid" value="">
                        <span class="contain"><button class="editbuttons mybutton go" id="findsentid">&nbsp;</button></span>

                        <span class="contain"><button class="mybutton mycheck" title="clear sall earch fields" id="clear">&nbsp;</button></span>

                        <button class="mycheck mybutton onlywithenhanced" id="bie">show basic in enhanced</button>
                        <button class="mycheck mybutton onlywithenhanced" id="edit_ed">edit enhanced deps</button>
                    </td>
                </tr>
                <tr class="search">
                    <td colspan="1">
                        <span id="portinfo">Port  <input type="text" id="port" size="2" value="12345"></span>
                        <button class="mybutton mycheck onlyWithTree" id="adaptwidth" title="variable word widths in function of word length">fixed width</button>
                        <span id="widthinfo">
                            Width  <input class="inputfield" type="text" id="bwidth" size="2" value="90">
                            Height <input class="inputfield" type="text" id="bheight" size="2" value="50">
                        </span>


                        <span class="editmode"><button class="mybutton editbuttons onlyWithTree" id="modifier">modify</button>
                            <input placeholder="modify commands (see help)"  class="onlyWithTree inputfield" type="text" id="mods" size="15" value="">
                        </span>
                    <!--/td>
                </tr>
                <tr class="search">
                    <td colspan="1" -->
                        <button class ="mybutton onlyWithTree" id="valid">validation</button>
                        <a class="onlyWithTree" id="a2" download="arbre.svg" type="image/svg+xml"><button class="mybutton">download image</button></a>
                        <button class ="onlyWithTree mybutton" id="latex"><span class="latex">L<sup>a</sup>T<sub>e</sub>X</span></button>
                        <button class ="onlyWithTree mybutton" id="conllu">CoNLL-U</button>
                        <button class ="onlyWithTree mybutton" id="sdparse">SD-Parse</button>
                        <button class ="onlyWithTree mybutton" id="json">JSON (Spacy)</button>
                    </td>
                </tr>

                <tr><td colspan="1">
                        <!-- tables with shortcuts (invoked with key "?" -->
                   <table id="shortcuthelp">
                      <tr><td class="sc">shortcuts</td> <td id="scfilename" class="sc_help_td"></td></tr>
                      <tr><td class="sc" id="upostr">UPOS</td><td id="uposshortcuts" class="sc_help_td"></td></tr>
                      <tr><td class="sc" id="xpostr">XPOS</td><td id="xposshortcuts" class="sc_help_td"></td></tr>
                      <tr><td class="sc" id="depreltr">Deplabel</td><td id="deplshortcuts" class="sc_help_td"></td></tr>
                      <tr><td class="sc" id="featstr">Features</td><td id="featsshortcuts" class="sc_help_td"></td></tr>
                  </table>
                </td></tr>

                <tr><td id="subtreesearch">
                    <textarea rows="4" class="inputfield" title="subtree" type="text" id="editsubtree"># global.columns = ID&#9;FORM&#9;LEMMA&#9;UPOS&#9;XPOS&#9;FEATS&#9;HEAD&#9;DEPREL
#1&#9;_&#9;_&#9;_&#9;_&#9;_&#9;0&#9;_
#2&#9;_&#9;_&#9;_&#9;_&#9;_&#9;1&#9;_
                    </textarea>
                    <div id="subtrees" style="display:inline-block">
                        <div>
                            <span class="contain">
                                <button class="editbuttons mybutton go" id="findsubtree">&nbsp;</button>
                            </span>
                        </div>

                        <div style="margin-top: 20%;">
                            <input class="inputfield" type="text" id="subtreeroot" placeholder="subtree root id" title="id of the word which should become the root of the subtree subtree" size="2">
                        </div>
                        <div>
                            <button class="editbuttons mybutton" id="createsubtree">import subtree</button>
                        </div>
                    </div>
                </td></tr>
            </table>



            <div id="sentencetext">
                <span class="sentinfo" id="currentsent">1</span>/<span class="sentinfo" id="total"></span>: <span id="titre"></span>
                <span class="sentinfo" id="cursentid"></span>
                <div class="sentinfo" id="scores"></div>
                <span class="sentinfo" id="errors"></span>
            </div>
            <div id="compare">
                <table>
		 <tr class="comparediff" id="goldword"></tr>
                 <tr class="comparediff" id="editedword"></tr>
                </table>
            </div>
        </div>


        <div id="arbre"></div>

        <div id="comm" style="display: flex;">
            <div style="padding: 5px"><button class ="onlyWithTree mybutton" id="editcommentbutton">edit comment</button></div>
            <div><span style="white-space: pre-wrap"  id="commentfield"></span></div>
        </div>



        <!-- the following are the dialogue/help popups -->
        <div class="modal" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="helpModalLabel">Help</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <h1>How to edit CoNLL-U files</h1>
                        <h2>Navigating</h2>
                        Click <span class="buttondoc">read sentence</span> to load the sentence with the number given in the entry field to the right of the button.
                        The buttons <img class="helptextbutton" src="img/preceding.svg"> and
                        <img class="helptextbutton" src="img/following.svg"> change to the preceding/next sentence
                        (also <span class="keydoc">-</span> and <span class="keydoc">+</span> keys),
                        use <img class="helptextbutton" style="width: 30px;" src="img/Start.svg"> and
                        <img class="helptextbutton" style="width: 30px;" src="img/End.svg"> to go to the first/last sentence.

                        <h2>Editing</h2>
                        <b>make a dependency</b>: click first on the dependent and then on its new head. Clicking twice on a node makes it root
                        <br><b>modify the dependency relation</b>: left-click on the relation label
                        <br><b>modify the word (form, lemma, upos, xpos, ...)</b>: <span class="keydoc">control</span>-left-click or double-click on the node to modify
                        <br><b>delete the word</b>: hit <span class="keydoc">delete</span>-key. Any overlapping MTW will also be deleted
                        <br><b>edit a multi-token word</b>: click on the grey bar spanning the words (to change start token, a new MTW has to be created). Setting the end token to 0 deletes the multitoken word.
                        the <span class="userinputdoc">compose <i>id length</i></span> command allows to add new MW tokens.
                        <br><br>or use a command and hit the <span class="buttondoc">modify</span> button (replace the parts in <span class="userinputdoc"><i>italic</i></span> with the the new values):

                        <!-- class="helpstyle" ici pour mettre les meme font-size (jquery-ui fait ça différemment -->
                        <table border ="0" class="bhelpstyle">
                            <tr><td>&bull; <span class="userinputdoc"><i>dep_id newheadid</i></span> [<span class="userinputdoc"><i>deprel</i></span>]</td>
                                <td>attach <i>dep_id</i> to <i>newheadid</i> with the relation <i>deprel</i></td>
                            </tr>
                            <tr><td>&bull; <span class="userinputdoc">xpos <i>dep_id XPOS</i></span></td>
                                <td>set xpos of word <i>id</i> to XPOS</td>
                            </tr>
                            <tr><td>&bull; <span class="userinputdoc">upos <i>dep_id UPOS</i></span></td>
                                <td>set upos of word <i>id</i> to UPOS</td>
                            </tr>
                            <tr><td>&bull; <span class="userinputdoc">lemma <i>dep_id LEMMA</i></span></td>
                                <td>modify lemma of word <i>id</i></td>
                            </tr>
                            <tr><td>&bull; <span class="userinputdoc">feat <i>dep_id feature=value,...</i></span></td>
                                <td>modify features of word <i>id</i></td>
                            </tr>
                             <tr><td>&bull; <span class="userinputdoc">enhdeps <i>dep_id head:deprel,...</i></span></td>
                                <td>modify enhanced dependencies of word <i>id</i></td>

                        </table>

                        <br>other commands for <span class="buttondoc">modify</span> (no graphical equivalent) :

                        <table border ="0" class="bhelpstyle">
                            <tr><td width="440px">&bull; <span class="userinputdoc">split <i>id</i> [<i>splitpos</i>]</span></td> <td>split a word in two
                                    (it will be copied to a new node and attached to the same head). If <i>splitpos</i> the characters of Form and Lemma left of <i>splitpos</i> will
                                    remain in the original word, the rest will be the new word</td></tr>
                            <tr><td>&bull; <span class="userinputdoc">join <i>id</i></span></td> <td>merge word with <i>id</i> with the following. If the merged word overlap in any way with a multitoken word (MTW), the MTW will be deleted</td></tr>
                            <tr><td>&bull; <span class="userinputdoc">insert <i>id form [lemma [upos [xpos]]]</i></span></td> <td>add a new word after word with <i>id</i></td></tr>
                            <tr><td>&bull; <span class="userinputdoc">delete <i>id</i></span></td> <td>delete word with <i>id</i>. Any overlapping MTW will also be deleted</td></tr>
                            <tr><td>&bull; <span class="userinputdoc">sentsplit <i>id</i></span></td> <td>split current sentence at word id (id will be in the second sentence). Dependency and Enhanced Dependency relations between the words before and after the split will be deleted.</td></tr>
                            <tr><td>&bull; <span class="userinputdoc">sentjoin</span></td> <td>merge current sentence with following</td></tr>
                            <tr><td>&bull; <span class="userinputdoc">compose <i>id length</i></span></td> <td>create a multitoken word (MTW).
                                    The inserted <i>n-m</i> line will contain the form of the word with <i>id</i>. In order to edit or delete a multitoken word, click on the multitoken
                                    bar at the bottom of the dependency tree or graph. Setting an end value of 0 deletes the multitoken word.
                                    </td></tr>
                            <tr><td>&bull; <span class="userinputdoc">tomtw <i>id form1 form2 [form3 ...]</i></span></td>
                                <td>Transform an existing word into a MTW. The new MTW keeps the form of the word transformed. All other columns
                                    are copied to the first memeber word, except the form which is <i>form1</i> from the command line. <i>form2</i>
                                    etc are used to initialize the form (and lemma) column of the other members of the MTW. All members are initially attached to
                                    the first member using the <i>fixed</i> depedency relation.
                                </td></tr>
                            <tr><td>&bull; <span class="userinputdoc">emptyinsert <i>id form [lemma [upos [xpos]]]</i></span></td> <td>add a new empty word after word with <i>id</i>.
                                    The new empty word gets the id <i>id.1</i> if it is the first empty word at thihs position.
                                    If there is already an empty word, the new one will have the id <i>id.2</i> etc.</td></tr>
                            <tr><td>&bull; <span class="userinputdoc">emptydelete <i>id.subid</i></span></td> <td>delete empty word
                                    with id <i>id.subid</i>.</td></tr>


                        </table>

                        <p><b>fast editing</b> Some UPOS/deprel can be changed by clicking on the word and than hit a key (sequence). UPOS and deprel
                            can be modified without going into the edit window. The following keys are defined
                        <table>
                          <tr>
                            <td valign="top"><table id="shortcuttableUPOS" style="float: left" border="0">
                            </table></td>

                            <td valign="top"><table id="shortcuttableDEPL" border="0">
                            </table></td>

                            <td valign="top"><table id="shortcuttableXPOS" border="0">
                            </table></td>

                            <td valign="top"><table id="shortcuttableFEATS" border="0">
                            </table></td>
                          </tr>
                        </table>

			<p>There is a list of predefined shortcuts which cannot be altered:
			<ul>
			  <li><span class="keydoc">+</span> go to next sentence
			  <li><span class="keydoc">-</span> go to preceding sentence
	                  <li><span class="keydoc">=</span> run validator on current sentence
			  <li><span class="keydoc">_</span> delete all features of active word
			  <li><span class="keydoc">delete</span> deletes active word
			  <li><span class="keydoc">?</span> shows/hides list of shortcuts
			</ul>


                        <p>More definitions can be added to <tt>gui/shortcuts.json</tt> or by creating a personal file in the same format and
                        load it with the server option <tt>--shortcuts</tt>. Hitting <span class="keydoc">?</span> displays the current
                        shortcuts on the top of the screen (and hiding the search fields atthe same time). Hitting
                        <span class="keydoc">?</span> a second time, hides the shortcut list again.
                        If this file is not valid JSON,
                        default shortcuts will be used. Check validity with e.g. <br>
                        <span class="commandline">$ cat gui/shortcuts.json | jq .</span>


                        <p><b>Modify comment</b> (shown underneath the sentence): click the comment.</p>
                        <p>The <span class="buttondoc">download image</span> button downloads the current dependency tree as an <tt>.svg</tt> file. Use the following commands
                        to transform it into <tt>.pdf</tt> or <tt>.png</tt>:<br>
                        <span class="commandline">$ inkscape -A arbre.pdf arbre.svg</span><br>
                        <span class="commandline">$ inkscape -e arbre.png arbre.svg</span>
                        </p>
                        <p>In order to downlad the entire sentence in CoNLL-U, SD-Parser or
                            <span class="latex">L<sup>a</sup>T<sub>e</sub>X</span> (for tikz-dependencies),
                            click the corresponding buttons)</p>

                        <p>Changes can be undone/redone using the buttons
                            <img class="helptextbutton" style="width: 30px;" src="img/undo.svg"> and
                            <img class="helptextbutton" style="width: 30px;" src="img/redo.svg">.
                        The undo-memory is cleared when a new sentence is loaded</p>

                        <h3>Editing enhanced dependencies</h3>
                        Enhanced dependencies can be edited only in flat view mode. Activate the
                        <span class="buttondoc">edit enhanced dependencies</span> button. Like editing basic dependencies,
                        enhanced dependencies can be added by clicking on the dependant followed by clicking on the head.
                        Since a node can have multiple heads in enhanced dependencies, in order to delete an enhanced dep relations
                        either use the word edit on the dependant, or use click on the dependency label and then click on
                        <span class="buttondoc">delete</span>.
                        <p>
                        Basic dependencies, which are also enhanced dependencies are only deplaced if
                        <span class="buttondoc">show basic in enhanced</span> is activated.
                        or use a command and hit the <span class="buttondoc">modify</span> button:
                        <table border ="0" class="bhelpstyle">
                            <tr><td>&bull; <span class="userinputdoc"><i>ed add dep_id newheadid</i></span> [<span class="userinputdoc"><i>deprel</i></span>]</td>
                                <td>add an enhanced dependency</td>
                            <tr><td>&bull; <span class="userinputdoc"><i>ed del dep_id newheadid</i></span> </td>
                                <td>delete an enhanced dependency</td>
                        </table>


                        <h2>Searching</h2>
                        Make search forms visible by clicking on <span class="buttondoc">more</span>
                        <ul>
                            <li>The form and comment search fields accept any string (use double quotes if the search string starts/ends with a blank).
                                <br>For example
                                <ul>
                                    <li><span class="userinputdoc">the</span> finds next occurrance of <i>the</i>, including <i>them</i> or <i>weather</i>.
                                    <li><span class="userinputdoc">&quot; the &quot;</span> finds next occurrance of the definite article <i>the</i>.
                                    <li><span class="userinputdoc">some of</span> finds next occurrance of <i>some of</i> (no quotes necessary, since the search string does not start with a blank).
                                </ul>
                            <li>The lemma/upos/xpos search fields accept a /-separated list of regex to find a corresponding sequence, for example
                                <ul>
                                    <li>Upos: <span class="userinputdoc">AUX/.*/VERB</span> looks for a sequence of words with upos tags <i>AUX, any, VERB</i>
                                </ul>
                            <li>The <i>any</i> search fields accepts a /-separated list of <i>searchfield:regex</i> to find a sequence on different criteria.
                                <i>searchfield</i> can be any of
                                <span class="userinputdoc">f</span>,
                                <span class="userinputdoc">l</span>,
                                <span class="userinputdoc">u</span>,
                                <span class="userinputdoc">x</span>,
                                <span class="userinputdoc">d</span>,
                                <span class="userinputdoc">e</span> (form, lemma, upos, xpos, deprel, enhanced deps)
                                a <span class="userinputdoc">%</span> can be used to search for a word on more than one criterium.
                                <ul>
                                    <li><span class="userinputdoc">l:the/u:ADJ/l:mouse</span> looks for a sequence of words, where the first word is <i>the</i>, the following
                                        any adjective and the last is <i>mouse</i>
                                    <li><span class="userinputdoc">l:the/u:ADJ%x:JJR/l:mouse</span> looks for a sequence of words, where the first word is <i>the</i>, the following
                                        any adjective which has the XPOS <i>JJR</i> and the last word is <i>mouse</i>
                                </ul>
                            <li>
                                The deprel search field accepts a single or a list of regex,
                                separated by <span class="userinputdoc">&lt;</span>, <span class="userinputdoc">=</span> or <span class="userinputdoc">&gt;</span> to search for branches in the dependency tree, for example
                                <ul>
                                    <li><span class="userinputdoc">cc&lt;nsubj</span> finds a word with <i>cc</i> deprel whose head has also a <i>nsubj</i> child.
                                    <li><span class="userinputdoc">case&gt;mark</span> finds a word with <i>case</i> deprel which has a child with a <i>mark</i> deprel.
                                        <li><span class="userinputdoc">case=det</span> finds a word with <i>case</i> deprel whose head has a child with a <i>mark</i> deprel.
                                </ul>
                        </ul>
                        <p>hit enter or click on the <img  class="helptextbutton" style="width: 35px;" src="img/search.svg"> to start the search.
                        <p>
                        The search starts with the sentence following the displayed one. Activating the
                        <img class="helptextbutton" style="width: 40px;" src="img/backwards.svg"> button
                        searches towards the beginning of the file. <img class="helptextbutton" style="width: 40px;" src="img/clear.svg"> clears all search fields.

                        <h2>Run a validator</h2>
                        Any programme which can validate a file in CoNLL-U can be used. Specify the programm with all
                        needed options and <tt>{FILE}</tt> at the position of the file to be validated in a file like
                        <br><tt>&nbsp;   script: /path/to/UDtools/tools/validate.py --lang cy --max-err 0 --level 5 {FILE}</tt>
                        <br>and give this file as option to the server.
                        When hitting the <span class="buttondoc">validate</span> button or the <span class="keydoc">=</span> key, the validation programme
                        is run on the current sentence.


                        <h2>UD Dependency Relations</h2>

                        See also: <a target="_blank" href="http://universaldependencies.org/u/dep/all.html">http://universaldependencies.org/u/dep/all.html</a>
                        for universal dependency relation and language specific ones.

                        <br><br>
                        <table border="1">
                            <tr><th></th>
                                <th>Nominals</th>
                                <th>Clauses</th>
                                <th>Modifier words</th>
                                <th>Function words</th>
                            </tr>
                            <tr><th>Core arguments</th>
                                <td><div class="nsubj">nsubj<br> obj<br> iobj</div></td>
                                <td><div class="csubj">csubj<br> ccomp<br> xcomp</div></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr><th>Non-core arguments</th>
                                <td><div class="obl">obl<br> vocative<br> expl<br> dislocated</div></td>
                                <td><div class="advcl">advcl</div></td>
                                <td><div class="advmod">advmod<br> discourse</div></td>
                                <td><div class="aux">aux<br> cop<br> mark</div></td>
                            </tr>
                            <tr><th>Nominal depdendants</th>
                                <td><div class="nmod">nmod<br> appos<br> nummod</div></td>
                                <td><div class="acl">acl</div></td>
                                <td><div class="amod">amod</div></td>
                                <td><div class="det">det<br> clf<br> case</div></td>
                            </tr>
                            <tr><th>coordination</th>
                                <th>MWE</th>
                                <th>Loose</th>
                                <th>Special</th>
                                <th>Other</th>
                            </tr>
                            <tr><td><div class="conj">conj<br>cc</div></td>
                                <td><div class="fixed">fixed<br> flat<br> compound</div></td>
                                <td><div class="list">list<br>parataxis</div></td>
                                <td><div class="orphan">orphan<br>goeswith<br>reparandum</div></td>
                                <td><div class="punct">punct<br> root<br> dep</div></td>
                            </tr>
                        </table>

                       <h2>About</h2>
                       ConlluEditor v<span id="ce_version"></span>, <a href="https://github.com/Orange-OpenSource/conllueditor">https://github.com/Orange-OpenSource/conllueditor</a> <br>
                       Author: Johannes Heinecke.
                       Copyright © 2018-2021 by Orange. This software is published under the <a target="_blank" href="https://opensource.org/licenses/BSD-3-Clause">3-Clause BSD License</a>.
                       <p>
                           Powered by <a target="_blank" href="https://jquery.com/">jquery</a>,
                           <a target="_blank" href="https://getbootstrap.com">bootstrap</a> and
                           <a target="_blank" href="https://jqueryui.com/">jquery-ui</a>.
                       </p>
                       <p>
                           The backend uses java ≥ 8, <a target="_blank" href="https://github.com/google/gson">com.google.code.gson</a>
                           and <a target="_blank" href="https://www.eclipse.org/jgit/">org.eclipse.jgit</a>.
                       </p>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class=" mybutton" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>


        <!-- error message -->
        <div class="modal" id="errorMessage" tabindex="-1" role="dialog" aria-labelledby="commentEditLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="errorMsgTitle">Error</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" >
                        <div class="errormessage" id="errormessagefield"></div>
                        <!-- textarea class="errormessage" id="errormessagefield"  rows="6" cols="80" ></textarea-->
                    </div>
                    <div class="modal-footer">
                        <!--  button type="button" id="savecomment" class="mybutton">Save changes</button-->
                        <button type="button" class="mybutton" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- edit comment -->
        <div class="modal" id="commentEdit" tabindex="-1" role="dialog" aria-labelledby="commentEditLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="commentEditLabel">Edit comments</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" >
                        <textarea class="comments" id="commenttext"  rows="6" cols="80" ></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="savecomment" class="mybutton">Save changes</button>
                        <button type="button" class="mybutton" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>


        <!-- edit word -->
        <div class="modal" id="wordEdit" tabindex="-1" role="dialog" aria-labelledby="wordEditLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="wordEditLabel">Edit word</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" >
                        <table id="wordedittable">

                            <tr><td>Id</td>       <td><span id="cid"></span></td></tr>
                            <tr><td>Form</td>     <td><div class="ui-widget"><input type="text" id="cform"  size="60" value=""></div></td></tr>
                            <tr><td>Lemma</td>    <td><div class="ui-widget"><input type="text" id="clemma" size="60" value=""></div></td></tr>
                            <tr><td>upos</td>     <td><div class="ui-widget"><input type="text" id="cupos"  size="60" value=""></div></td></tr>
                            <tr><td>xpos</td>     <td><div class="ui-widget"><input type="text" id="cxpos"  size="60" value=""></div></td></tr>
                            <tr><td>features</td> <td><div class="ui-widget">
                                        <!--input type="text" id="cfeats" size="50" value="" -->
                                        <textarea type="text" id="cfeats" rows="5" cols="60"></textarea>
                                    </div></td></tr>
                            <tr><td>enhanced deps</td><td><div class="ui-widget">
                                        <!--input type="text" id="cenhdeps" size="60" value=""-->
                                         <textarea type="text" id="cenhdeps" rows="3" cols="60"></textarea>
                                        </div></td></tr>
                            <tr><td>misc</td>     <td><div class="ui-widget">
                                        <!--input type="text" id="cmisc" size="60" value=""-->
                                        <textarea type="text" class="classmisc" id="cmisc" rows="3" cols="60"></textarea>
                                    </div></td></tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="saveword" class="mybutton">Save changes</button>
                        <button type="button" class="mybutton" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>


        <!-- edit basic dependency label -->
        <div class="modal" id="deprelEdit" tabindex="-1" role="dialog" aria-labelledby="deprelEditLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="deprelEditLabel">Edit basic dependency relation name</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" >
                        <table>
                            <tr>
                                <td>Head:</td>       <td><span id="chead"></span></td>
                                <td>Dependent:</td>  <td><span id="cdep"></span></td>
                            </tr>
                            <tr>
                                <td colspan="4"><div class="ui-widget"><input type="text" id="cdeprel"  size="25" value=""></div></td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="savedeprel" class=" mybutton">Save changes</button>
                        <button type="button" class="mybutton" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>


        <!-- edit enhanced dependency label -->
        <div class="modal" id="enhdeprelEdit" tabindex="-1" role="dialog" aria-labelledby="enhdeprelEditLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="enhdeprelEditLabel">Edit enhanced dependency relation name</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" >
                        <table>
                            <tr>
                                <td>Head:</td>       <td><span id="cheaden"></span></td>
                                <td>Dependent:</td>  <td><span id="cdepen"></span></td>
                            </tr>
                            <tr>
                                <td colspan="4"><div class="ui-widget"><input type="text" id="cdeprelen"  size="25" value=""></div></td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="deletedeprelen" class=" mybutton">Delete enhanced dependency</button>
                        <button type="button" id="savedeprelen" class=" mybutton">Save changes</button>
                        <button type="button" class="mybutton" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- edit multitoken -->
         <div class="modal" id="editMTW" tabindex="-1" role="dialog" aria-labelledby="deleteMTW" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="showDeleteMWE">Edit Multitoken Form</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" >
                        <!--span id="qqcurrentMTWfrom"></span>-<span id="qqcurrentMTWto"></span-->
                        <table>
                            <tr><td>multitoken start</td> <td><div class="ui-widget"><input type="text" id="currentMTWfrom"  value="" disabled></div></td></tr>
                            <tr><td>multitoken end</td>   <td><div class="ui-widget"><input type="text" id="currentMTWto"    value=""></div></td></tr>
                            <tr><td>form</td>             <td><div class="ui-widget"><input type="text" id="currentMTWform"  value=""></div></td></tr>
                            <tr><td>misc</td>             <td><div class="ui-widget">
                                        <!--input type="text" id="currentMTWmisc"  value=""-->
                                        <textarea type="text" class="classmisc" id="currentMTWmisc" rows="4" cols="20"></textarea>
                                    </div></td></tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="editMWtoken" class="mybutton">Save</button>
                        <button type="button" class="mybutton" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- show Latex/Conllu/sd-parse/validation output -->
        <div class="modal" id="showRawModal" tabindex="-1" role="dialog" aria-labelledby="showRawModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="showRawModalLabel">How to edit</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <pre id="rawtext"></pre>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="mybutton" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>


    </body>
</html>

